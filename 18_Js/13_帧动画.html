<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>简单帧动画</title>
	<style type="text/css">
		*{
			margin: 0px; padding: 0px;
		}
		#d1{
			margin-top: 40px;
			width: 400px;
			height: 211px;
		}

	</style>

	<script type="text/javascript">
	//利用纯javascript代码实现帧动画
	//一般来说，帧动画都是用gif图片做的，这里使用background-image和background-position属性来实现帧动画
	//首先图片是事先处理好的，可以用ps工具完成
	
		var index = 0;//全局变量，图片的索引
		var dsq;
		
		window.onload = init;//初始化
		
		//初始化函数
		function init(){
			
			var obj = document.getElementById('d1');//获取div对象
			// var positions = ['0 0','-500 0','-1000 0','-1500 0','-2000 0','0 -230','-500 -230','-1000 -230','-1500 -230','-2000 -230','0 -460','-500 -460','-1000 -460','-1500 -460','-2000 -460']; //位置参数，可以参考tools文件夹下的生成工具
			var positions = ['0 0','-400 0','-800 0','-1200 0','-1600 0','0 -211','-400 -211','-800 -211','-1200 -211','-1600 -211','0 -422','-400 -422','-800 -422','-1200 -422','-1600 -422','0 -633','-400 -633','-800 -633','-1200 -633','-1600 -633','0 -844','-400 -844','-800 -844','-1200 -844','-1600 -844','0 -1055','-400 -1055','-800 -1055','-1200 -1055','-1600 -1055','0 -1266','-400 -1266','-800 -1266','-1200 -1266','-1600 -1266']
			var imgUrl = 'images/bruce.png';

			//定时器，两种写法，一种是直接调用函数，在调用函数中对自身进行调用一次性定时器
			//第二种写法就是当前的，使用无穷定时器，不过在参数传递的时候，多了一步奇淫技巧
			//dongHua(obj,imgUrl,positions);
			dsq = window.setInterval(function(){
				dongHua(obj,imgUrl,positions)
			},100);
		}

		function dongHua(obj,imgUrl,positions){
			
			var xy = positions[index].split(' ');//获取位置参数中的x，y坐标

			obj.style.backgroundImage = 'url('+imgUrl+')';
			
			obj.style.backgroundPosition = xy[0]+'px '+xy[1]+'px';
			index++;

			//防止数组溢出的判断
			if(index ==positions.length){
				index=0;
			}
		}

		function pause(){
			window.clearInterval(dsq);
		}



	</script>
</head>
<body>
	<div id="d1" onmouseover="pause()" onmouseout="init()">

	</div>

</body>
</html>